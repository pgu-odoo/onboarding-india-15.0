<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
<!-- Form view for patients data-->
        <record model="ir.ui.view" id="view_appointment_form">
            <field name="name">hospital.appointment.form</field>
            <field name="model">hospital.appointmemt</field> <!-- name="res_model" -->
    
            <field name="arch" type="xml"> <!-- architecture (arch) which customises the way the model is displayed inside the view -->
                <form string="Appointment Form">
                    <header> <!-- for status bar(widget="stausbar" is must be) feild above the form -->
                        <button id="button_confirm" name="action_confirm" string="Confirm" 
                                    class="oe_highlight" states="draft" confirm="Are you sure that you want to confirm?" type="object"/>  
                        <button id="button_done" name="action_done" string="Done" 
                                    class="oe_highlight" states="confirm" type="object"/>
                        <button id="button_draft" name="action_draft" string="Set To Draft" 
                                    class="oe_highlight" states="cancel"  type="object"/>
                        <button id="button_cancel" name="action_cancel" string="Cancel"  
                                     states="draft,done,confirm" confirm="Are you sure that you want to cancel?" type="object"/> <!--confirm is provide confirmation msg on button click -->
                        <field name="state" widget="statusbar" 
                               statusbar_visible="draft,done,confirm" /> <!--options="{'clickable':'1'}"  -->
                    </header>
                    <sheet>
                        <div class="oe_title">
                        <h1>
                            <field name="reference" readonly="1"/>
                        </h1>
                        </div>
                        
                        <group>
                            <group>
                                <field name="name"/>
                                <field name="age"/>
                                <field name="gender" invisible='context.get("hide_gender")'/>  <!-- 10:invisible is looking for context which have hide_gender key is present , if in any form its present then its hide gender feild -->
                                <field name="family_member_id"/>
                                
                            </group>
                            <group>
                                <field name="admit_fee"/>
                                <field name="additional_fee"/>
                                <field name="total_fee" force_save='1'/> <!--here we do force_save due to total_fee attribute we mention readonly=True in patients.py file -->  
                                
                            </group>
                        </group>
                        <notebook>
                            <page string="Description">
                                <field name="description"/>
                                
                            </page>
                        </notebook>

                    </sheet>
                    <div class="oe_chatter">
                        <!-- <field name="message_follower_ids"/> --> <!--used to show follower -->
                        <field name="activity_ids"/> <!--  used for schedule activity -->
                        <field name="message_ids"/>  <!-- used for send msg and log -->
                    </div>
                </form> 
            </field>
            
        </record>

<!-- list(tree) view for patients data -->
        <record model="ir.ui.view" id="view_appointment_list">
            <field name="name">hospital.appointment.list</field>
            <field name="model">hospital.appointment</field> <!-- name="res_model" -->
            
            <field name="arch" type="accessxml">
                <tree string="Patient list"> 
                   <field name="reference" readonly="1"/> 
                   <field name="name"/>
                   <field name="family_member_id"/>
                   <field name="age"/>
                   <field name="gender"/>
                   <field name="description"/>
                   <field name="state"/>
                   
                </tree> 
            </field>
            
        </record>

<!--search view by default given in localhost server with only name as search feild, hence doesn't need to be specified -->
        <record model="ir.ui.view" id="view_appointment_search">
            <field name="name">hospital.appointment.search</field>
            <field name="model">hospital.appointment</field> 
            <field name="arch" type="xml">
                <search>
                    <field name="name"/> 
                    <filter name="name" domain="[('name', '=','vishal')]"/>
                    <field name="gender"/>
                    <!-- <feild name="age"/>  getting error:if i used this feild inside search view-->
                    <field name="description"/>
                    <filter string="Male" name="male" domain="[('gender', '=','male')]"/> 
                    <filter string="Female" name="female" domain="[('gender', '=','female')]"/> 
                    <group expand="1" string="Group By">
                        <filter string="Gender" name="gender" context="{'group_by':'gender'}"/>
                        <filter string="Patient name" name="patient_name" context="{'group_by':'name'}"/>
                    </group>
                    <!-- <field name="context">{'search_default_gender':1}</field> --> <!--we can't write it here because search bar model='ir.action.act_window' hence we have to write it in menuitem.xml file-->

                </search>

            </field>
        </record>

<!-- kanban view for patients data-->
        <record id="view_appointment_kanban" model="ir.ui.view">
            <field name="name">hospital.appointment.kanban</field>
            <field name="model">hospital.appointment</field>
            
            <field name='arch' type='xml'>
                <kanban>
                    <field name="name"/>
                    <field name="age"/>
                    <field name="gender"/>
                    <field name="description"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                <div class="oe_kanban_details">
                            
                                    <ul>
                                            <li>Name:<field name="name"/></li>
                                            <li>Age:<field name="description"/></li>
                                    </ul>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

    </data>
    
</odoo>