<?xml version="1.0" encoding="utf-8"?>

<odoo>
	<!--<report 
		id="report_session"
		model="acadamy.session"
		string="Session Report"
		name="odoo_academy.report_session_docoments"
		file="odoo_academy.report_session"
		report_type="qweb-html"/>-->

		<record id="report_ir_model_overview" model="ir.actions.report">
			<field name="name">Session Report</field>
			<field name="model">acadamy.session</field>
			<field name="report_type">qweb-pdf</field>
			<field name="report_name">base.report_irmodeloverview</field>
			<field name="report_file">odoo_academy.report_session</field>
			<field name="binding_model_id" ref="odoo_academy.model_acadamy_session"/>
			<field name="binding_type">report</field>
		</record>

	<template id="report_session_docoments">
		<t t-call="web.html_container">
			<t t-foreach="docs" t-as="doc">
				<t t-call="web.external_layout">
					<div class="page">
						<h2 t-field="doc.name" class="mt16"/>
						<div class="row mt32 mb32" id="session_info">
							<div class="col-auto mw100 mb2">
								<strong>Session Duration</strong>
								<t t-if="doc.start_date">
									<span t-field="doc.start_date"/>
								</t>
								<t t-if="doc.end_date">
									<span t-field="doc.end_date"/>
								</t>
							</div>

							<div t-if="doc.instructor_id" class="col-auto mw100 mb2">
								<strong>Instructor</strong>
								<span t-field="doc.instructor_id.name"/>
							</div>
						</div> 

						<h4>Students</h4>
						<table class="table-sm o_main_table">
							<thead>
								<tr>
									<th name="th-name">Name</th>
									<th name="th-phone">Phone</th>
									<th name="th-email">Email</th>
								</tr>
							</thead>
							<tbody>
								<t t-foreach="doc.student_id" t-as="student">
									<tr>
										<td t-if="student.name" name="td_name">
											<span t-field="student.name"/>
										</td>
										<td t-if="student.phone" name="td_phone">
											<span t-field="student.phone"/>
										</td>
										<td t-if="student.email" name="td_email">
											<span t-field="student.email"/>
										</td>
									</tr>
								</t>
							</tbody>
						</table>
					</div>
				</t>
			</t>
		</t>
	</template>	
</odoo>