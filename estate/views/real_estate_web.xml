<?xml version="1.0" encoding="UTF-8" ?>

<odoo>
    <template id="index">
        <t t-call="website.layout">
            <t t-set="title">Real Estate</t>
            <div class="oe_structure">
                <div class="container p-3">
                    <h3>List of All Properties</h3>
                    <t t-foreach="properties" t-as="property">
                        <ul>
                            <li>
                                <t t-esc="property.id"/>
                                <!-- for link to the current property in the URL -->
                            <!-- <a t-attf-href="/estate/{{ slug(ItrationVariable) }}"></a> -->
                                <a t-attf-href="/estate/{{ slug(property) }}">
                                    <t t-esc="property.name" />
                                </a>
                            </li>
                        </ul>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <template id="property_details">
        <t t-call="website.layout">
            <t t-set="title">Property Details</t>
            <div class="oe_structure">
                <div class="container p-3 shadow-lg mt-4 mb-4 p-3 mb-5 bg-white rounded">
                    <t t-foreach="property" t-as="prop">
                        <header>
                            <h3 t-field="prop.name"></h3>
                        </header>
                        <hr /> 
                        <div class="row">
                            <div class="col-md-6">
                                <p>
                                    Date Available From:
                                    <b t-field="prop.date_availability" t-options='{"format": "long"}'></b>
                                </p>
                            </div>
                            <div class="col-md-6">
                                <p>
                                    Date Available To :
                                    <b t-field="prop.date_deadline" t-options='{"format": "long"}'></b>
                                </p>
                            </div>
                        </div>
                        <div t-field="prop.description"></div>
                        <hr />
                        <footer>
                            <p>
                                Last Modified :
                                <b t-field="prop.write_date" t-options='{"widget": "relative"}'></b>
                            </p>
                        </footer>
                    </t>
                </div>
            </div>
        </t>
    </template>
</odoo>