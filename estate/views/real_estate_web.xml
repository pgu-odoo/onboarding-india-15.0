<?xml version="1.0" encoding="UTF-8" ?>

<odoo>
    <template id="index">
        <t t-call="website.layout">
            <t t-set="title">Real Estate</t>
            <div class="oe_structure">
                <div class="container p-3">
                    <h3>List of Available Properties</h3>
                    <hr />
                    <div class="row">
                        <t t-foreach="properties" t-as="property">
                            <div class="col-md-4 p-2 mt-1 mb-2 border">
                                <!-- <ol>
                                    <li>
                                        <t t-esc="property.id"/> -->
                                        <!-- for link to the current property in the URL -->
                                    <!-- <a t-attf-href="/estate/{{ slug(ItrationVariable) }}"></a> -->
                                        <!-- <a t-attf-href="/estate/{{ slug(property) }}">
                                            <t t-esc="property.name" />
                                        </a>
                                    </li>
                                </ol> -->
                                <header>
                                    <a t-attf-href="/estate/{{ slug(property) }}">
                                        <h3 t-field="property.name"></h3>
                                    </a>
                                </header>
                                <hr />
                                <div t-field="property.image" t-options="{'widget' : 'image'}" class="col-md-6"></div>
                                <!-- <div t-field="property.description"></div> -->
                                <hr />
                                <div class="row">
                                    <div class="col-md-6">
                                        <p>
                                            Date Available From:
                                            <b t-field="property.date_availability" t-options='{"format": "long"}'></b>
                                        </p>
                                    </div>
                                    <div class="col-md-6">
                                        <p>
                                            Date Available To :
                                            <b t-field="property.date_deadline" t-options='{"format": "long"}'></b>
                                        </p>
                                    </div>
                                </div>
                                <hr />
                                <footer>
                                    <p>
                                        Last Modified :
                                        <b t-field="property.write_date" t-options='{"widget": "relative"}'></b>
                                    </p>
                                </footer>
                            </div>
                        </t>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="property_details">
        <t t-call="website.layout">
            <t t-set="title">Property Details</t>
            <div class="oe_structure">
                <div class="container p-3 shadow-lg mt-4 mb-4 p-3 mb-5 bg-white rounded">
                    <t t-foreach="property" t-as="prop">
                        <header>
                                <h3 t-field="prop.name"></h3>
                        </header>
                        <hr /> 
                        <div class="row">
                            <div class="col-md-10 row">
                                <div class="col-md-6">
                                    <p>
                                        Date Available From:
                                        <b t-field="prop.date_availability" t-options='{"format": "long"}'></b>
                                    </p>
                                </div>
                                <div class="col-md-6">
                                    <p>
                                        Date Available To :
                                        <b t-field="prop.date_deadline" t-options='{"format": "long"}'></b>
                                    </p>
                                </div>
                            </div>
                            <div t-field="prop.image" t-options="{'widget' : 'image'}" class="col-md-2"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div t-field="prop.description"></div>
                            </div>
                            <div class="col-md-6">
                                <!-- <div style="width:100%; height:145px;overflow: hidden;">
                                    <img t-if="property.image"
                                         t-attf-src="/web/image/estate.property/#{property.id}/property_image"
                                         class="img oe_product_image"
                                         style="padding: 0px; margin: 0px; width:auto; height:100%;"/>
                                </div> -->
                            </div>
                        </div>
                
                        <hr />
                        <footer>
                            <p>
                                Last Modified :
                                <b t-field="prop.write_date" t-options='{"widget": "relative"}'></b>
                            </p>
                        </footer>
                    </t>
                </div>
            </div>
        </t>
    </template>
</odoo>